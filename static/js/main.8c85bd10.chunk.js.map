{"version":3,"sources":["api/api.js","redux/dialogs-reducer.js","components/Navbar/Navbar.module.css","components/Users/Users.module.css","reportWebVitals.js","components/Navbar/Navbar.jsx","utils/object-helpers.js","redux/users-reducer.js","components/common/Paginator/Paginator.jsx","assets/images/user.png","components/Users/User.jsx","components/Users/Users.jsx","redux/users-selectors.js","components/Users/UsersContainer.jsx","components/Header/Header.jsx","redux/auth-reducer.js","components/Header/HeaderContainer.jsx","components/Login/Login.jsx","redux/app-reducer.js","redux/redux-store.js","hoc/withSuspense.js","App.js","index.js","components/common/FormsControls/FormsControls.js","assets/images/preloader.svg","components/common/Preloader/Preloader.jsx","components/common/FormsControls/FormControls.module.css","utils/validators/validators.js","components/common/Paginator/Paginator.module.css","components/Header/Header.module.css","redux/profile-reducer.js"],"names":["instance","axios","create","withCredentials","baseURL","headers","usersAPI","getUsers","currentPage","pageSize","get","then","response","data","follow","userId","post","unfollow","delete","getProfile","console","warn","profileAPI","getStatus","updateStatus","status","put","authAPI","me","login","email","password","rememberMe","logout","SEND_MESSAGE","initialState","dialogs","id","name","messages","message","sendMessageCreator","newMessageBody","type","dialogsReducer","state","action","body","module","exports","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","Navbar","className","s","nav","item","activeLink","to","activeClassName","updateObjectInArray","items","itemId","objPropName","newObjProps","map","i","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","users","totalUsersCount","isFetching","followingInProgress","followSuccess","unfollowSuccess","setCurrentPage","toggleIsFetching","toggleFollowingProgress","followUnfollowFlow","dispatch","apiMethod","actionCreator","a","resultCode","usersReducer","followed","count","filter","Paginator","totalItemsCount","onPageChanged","portionSize","pagesCount","Math","ceil","pages","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","styles","paginator","onClick","p","cn","selectedPage","pageNumber","e","User","user","src","photos","small","userPhoto","alt","disabled","some","Users","props","u","createSelector","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","UsersContainer","this","Preloader","React","Component","compose","connect","bind","page","totalCount","Header","header","loginBlock","isAuth","SET_USER_DATA","setAuthUserData","payload","getAuthUserData","authReducer","HeaderContainer","auth","LoginReduxForm","reduxForm","form","handleSubmit","error","onSubmit","createField","Input","required","style","formSummaryError","length","stopSubmit","_error","formData","INITIALIZED_SUCCESS","initialized","appReducer","reducers","combineReducers","profilePage","profileReducer","dialogsPage","formReducer","app","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","withSuspense","Suspense","fallback","DialogsContainer","lazy","ProfileContainer","App","initializeApp","path","render","AppContainer","withRouter","promise","Promise","all","SocialNetworkApp","basename","process","ReactDOM","document","getElementById","FormControl","input","meta","touched","children","hasError","formControl","Textarea","restProps","component","placeholder","validators","text","validate","backgroundColor","preloader","value","maxLengthCreator","maxLength","ADD_POST","DELETE_POST","SET_USER_PROFILE","SET_STATUS","posts","likesCount","profile","addPostCreator","newPostText","setUserStatus","getUserProfile","getUserStatus","updateUserStatus","newPost","postId"],"mappings":"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","file":"static/js/main.8c85bd10.chunk.js","sourcesContent":["import axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    headers: {\r\n        \"API-KEY\": \"b4dd1893-249e-4612-8ef6-622b06abf27f\"\r\n    }\r\n});\r\n\r\nexport const usersAPI = {\r\n    getUsers(currentPage = 1, pageSize = 10) {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n            .then(response => response.data);\r\n    },\r\n    follow(userId) {\r\n        return instance.post(`follow/${userId}`)\r\n            .then(response => response.data);\r\n    },\r\n    unfollow(userId) {\r\n        return instance.delete(`follow/${userId}`)\r\n            .then(response => response.data);\r\n    },\r\n    getProfile(userId) {\r\n        console.warn(\"Old method. Please use profileAPI object.\");\r\n        return profileAPI.getProfile(userId);\r\n    }\r\n}\r\n\r\nexport const profileAPI = {\r\n    getProfile(userId) {\r\n        return instance.get(`profile/${userId}`)\r\n            .then(response => response.data);\r\n    },\r\n    getStatus(userId) {\r\n        return instance.get(`profile/status/${userId}`)\r\n            .then(response => response.data);\r\n    },\r\n    updateStatus(status) {\r\n        return instance.put(`profile/status`, {\r\n            status: status\r\n        }).then(response => response.data);\r\n    }\r\n}\r\n\r\nexport const authAPI = {\r\n    me() {\r\n        return instance.get(`auth/me`)\r\n            .then(response => response.data);\r\n    },\r\n    login(email, password, rememberMe = false) {\r\n        return instance.post(`auth/login`,{\r\n            email, password, rememberMe\r\n        }).then(response => response.data);\r\n    },\r\n    logout() {\r\n        return instance.delete(`auth/login`)\r\n            .then(response => response.data);\r\n    }\r\n}","const SEND_MESSAGE = 'SEND-MESSAGE';\r\n\r\nlet initialState = {\r\n    dialogs: [\r\n        {id: 1, name: \"Валера\"},\r\n        {id: 2, name: \"иOne\"},\r\n        {id: 3, name: \"Сан Саныч\"},\r\n        {id: 4, name: \"Сашка Попуг\"},\r\n        {id: 5, name: \"Кириллл\"}\r\n    ],\r\n    messages: [\r\n        {id: 1, message: \"Здарова\"},\r\n        {id: 2, message: \"Ну шо?\"},\r\n        {id: 3, message: \"Го пить пиво\"},\r\n        {id: 4, message: \"Ыть\"},\r\n        {id: 5, message: \"Кавооо?\"}\r\n    ]\r\n};\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SEND_MESSAGE:\r\n            let body = action.newMessageBody;\r\n            return {\r\n                ...state,\r\n                messages: [...state.messages, {id: 6, message: body}]\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const sendMessageCreator = (newMessageBody) => ({type: SEND_MESSAGE, newMessageBody})\r\n\r\nexport default dialogsReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__2ur61\",\"item\":\"Navbar_item__1uoWl\",\"activeLink\":\"Navbar_activeLink__3k9Tc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userPhoto\":\"Users_userPhoto__3vVIP\",\"selectedPage\":\"Users_selectedPage__11NTH\"};","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\r\nimport s from './Navbar.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst Navbar = () => {\r\n    return (\r\n        <nav className={s.nav}>\r\n            <div className={`${s.item} ${s.activeLink}`}>\r\n                <NavLink to=\"/profile\" activeClassName={s.activeLink}>Профиль</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to=\"/dialogs\" activeClassName={s.activeLink}>Сообщения</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to=\"/news\" activeClassName={s.activeLink}>Новости</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to=\"/music\" activeClassName={s.activeLink}>Музыка</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to=\"/users\" activeClassName={s.activeLink}>Пользователи</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to=\"/settings\" activeClassName={s.activeLink}>Настройки</NavLink>\r\n            </div>\r\n        </nav>\r\n    )\r\n}\r\n\r\nexport default Navbar;","export const updateObjectInArray = (items, itemId, objPropName, newObjProps) => {\r\n    return items.map(i => {\r\n        if (i[objPropName] === itemId) {\r\n            return {...i, ...newObjProps}\r\n        }\r\n        return i;\r\n    })\r\n}","import {usersAPI} from \"../api/api\";\r\nimport {updateObjectInArray} from \"../utils/object-helpers\";\r\n\r\nconst FOLLOW = 'FOLLOW';\r\nconst UNFOLLOW = 'UNFOLLOW';\r\nconst SET_USERS = 'SET_USERS';\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE';\r\nconst SET_TOTAL_USERS_COUNT = 'SET_TOTAL_USERS_COUNT';\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING';\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE_IS_FOLLOWING_PROGRESS';\r\n\r\n\r\nlet initialState = {\r\n    users: [],\r\n    pageSize: 50,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: true,\r\n    followingInProgress: []\r\n};\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, \"id\", {followed: true})\r\n            }\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, \"id\", {followed: false})\r\n            }\r\n        case SET_USERS:\r\n            return {...state, users: [...action.users]};\r\n        case SET_CURRENT_PAGE:\r\n            return {...state, currentPage: action.currentPage};\r\n        case SET_TOTAL_USERS_COUNT:\r\n            return {...state, totalUsersCount: action.count};\r\n        case TOGGLE_IS_FETCHING:\r\n            return {...state, isFetching: action.isFetching};\r\n        case TOGGLE_IS_FOLLOWING_PROGRESS:\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.isFetching\r\n                    ? [...state.followingInProgress, action.userId]\r\n                    : state.followingInProgress.filter(id => id != action.userId)\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const followSuccess = (userId) => ({type: FOLLOW, userId})\r\nexport const unfollowSuccess = (userId) => ({type: UNFOLLOW, userId})\r\nexport const setUsers = (users) => ({type: SET_USERS, users})\r\nexport const setCurrentPage = (currentPage) => ({type: SET_CURRENT_PAGE, currentPage: currentPage})\r\nexport const setTotalUsersCount = (totalUsersCount) => ({type: SET_TOTAL_USERS_COUNT, count: totalUsersCount})\r\nexport const toggleIsFetching = (isFetching) => ({type: TOGGLE_IS_FETCHING, isFetching})\r\nexport const toggleFollowingProgress = (isFetching, userId) => ({\r\n    type: TOGGLE_IS_FOLLOWING_PROGRESS,\r\n    isFetching,\r\n    userId\r\n})\r\n\r\nexport const requestUsers = (page, pageSize) => async (dispatch) => {\r\n    dispatch(toggleIsFetching(true));\r\n    dispatch(setCurrentPage(page));\r\n    const data = await usersAPI.getUsers(page, pageSize);\r\n    dispatch(toggleIsFetching(false));\r\n    dispatch(setUsers(data.items));\r\n    dispatch(setTotalUsersCount(data.totalCount));\r\n}\r\n\r\nconst followUnfollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\r\n    dispatch(toggleFollowingProgress(true, userId));\r\n    const data = await apiMethod(userId);\r\n    if (data.resultCode === 0) {\r\n        dispatch(actionCreator(userId));\r\n    }\r\n    dispatch(toggleFollowingProgress(false, userId));\r\n}\r\n\r\nexport const follow = (userId) => async (dispatch) => {\r\n    followUnfollowFlow(dispatch, userId, usersAPI.follow.bind(usersAPI), followSuccess);\r\n}\r\n\r\nexport const unfollow = (userId) => async (dispatch) => {\r\n    followUnfollowFlow(dispatch, userId, usersAPI.unfollow.bind(usersAPI), unfollowSuccess);\r\n}\r\n\r\nexport default usersReducer;","import React, {useState} from \"react\";\r\nimport styles from \"./Paginator.module.css\";\r\nimport cn from \"classnames\"\r\n\r\nlet Paginator = ({totalItemsCount, pageSize, currentPage, onPageChanged, portionSize = 10}) => {\r\n\r\n    let pagesCount = Math.ceil(totalItemsCount / pageSize);\r\n\r\n    let pages = [];\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i);\r\n    }\r\n\r\n    let portionCount = Math.ceil(pagesCount / portionSize);\r\n    let [portionNumber, setPortionNumber] = useState(1);\r\n    let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n    let rightPortionPageNumber = portionNumber * portionSize;\r\n\r\n    return <div className={styles.paginator}>\r\n        { portionNumber > 1 &&\r\n            <button onClick={() => { setPortionNumber(portionNumber - 1) }}>PREV</button> }\r\n        { pages.filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n            .map((p) => {\r\n            return <span className={ cn({[styles.selectedPage]: currentPage === p}, styles.pageNumber) }\r\n                         key={p}\r\n                         onClick={(e) => {\r\n                             onPageChanged(p)\r\n                         }}>{p}</span>\r\n        })}\r\n        { portionCount > portionNumber &&\r\n            <button onClick={() => { setPortionNumber(portionNumber + 1) }}>NEXT</button> }\r\n    </div>\r\n}\r\n\r\nexport default Paginator;","export default __webpack_public_path__ + \"static/media/user.ab7efdc7.png\";","import React from \"react\";\r\nimport styles from \"./Users.module.css\";\r\nimport userPhoto from \"../../assets/images/user.png\";\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nlet User = ({user, followingInProgress, follow, unfollow}) => {\r\n    return (\r\n        <div>\r\n            <span>\r\n                <div>\r\n                    <NavLink to={'/profile/' + user.id}>\r\n                        <img src={user.photos.small != null ? user.photos.small : userPhoto} className={styles.userPhoto}\r\n                             alt='{}'/>\r\n                    </NavLink>\r\n                </div>\r\n                <div>\r\n                    {user.followed\r\n                        ? <button disabled={followingInProgress\r\n                            .some(id => id === user.id)}\r\n                                  onClick={() => {\r\n                                      unfollow(user.id);\r\n                                  }}>\r\n                            Unfollow</button>\r\n                        : <button disabled={followingInProgress\r\n                            .some(id => id === user.id)}\r\n                                  onClick={() => {\r\n                                      follow(user.id);\r\n                                  }}>\r\n                            Follow</button>}\r\n                </div>\r\n            </span>\r\n            <span>\r\n                <span>\r\n                    <div>{user.name}</div>\r\n                    <div>{user.status}</div>\r\n                </span>\r\n                <span>\r\n                    <div>{\"user.location.country\"}</div>\r\n                    <div>{\"user.location.city\"}</div>\r\n                </span>\r\n            </span>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default User;","import React from \"react\";\r\nimport Paginator from \"../common/Paginator/Paginator\";\r\nimport User from \"./User\";\r\n\r\nlet Users = ({totalUsersCount, pageSize, currentPage, onPageChanged, users, ...props}) => {\r\n    return <div>\r\n        <Paginator totalItemsCount={totalUsersCount} pageSize={pageSize}\r\n                   currentPage={currentPage} onPageChanged={onPageChanged}/>\r\n        <div>\r\n            {\r\n                users.map(u => <User key={u.id} user={u}\r\n                                     followingInProgress={props.followingInProgress}\r\n                                     follow={props.follow} unfollow={props.unfollow}\r\n                    />\r\n                )\r\n            }\r\n        </div>\r\n    </div>\r\n}\r\n\r\nexport default Users;","import {createSelector} from \"reselect\";\r\n\r\nconst getUsersSelector = (state) => {\r\n    return state.usersPage.users;\r\n}\r\n\r\nexport const getUsers = createSelector(getUsersSelector, (users) => {\r\n    return users.filter(u => true);\r\n});\r\n\r\nexport const getPageSize = (state) => {\r\n    return state.usersPage.pageSize;\r\n}\r\n\r\nexport const getTotalUsersCount = (state) => {\r\n    return state.usersPage.totalUsersCount;\r\n}\r\n\r\nexport const getCurrentPage = (state) => {\r\n    return state.usersPage.currentPage;\r\n}\r\n\r\nexport const getIsFetching = (state) => {\r\n    return state.usersPage.isFetching;\r\n}\r\n\r\nexport const getFollowingInProgress = (state) => {\r\n    return state.usersPage.followingInProgress;\r\n}\r\n","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {\r\n    follow, unfollow, requestUsers,\r\n    setCurrentPage,\r\n    toggleFollowingProgress,\r\n} from '../../redux/users-reducer';\r\nimport Users from './Users';\r\nimport Preloader from \"../common/Preloader/Preloader\";\r\nimport {compose} from \"redux\";\r\nimport {\r\n    getCurrentPage,\r\n    getFollowingInProgress,\r\n    getIsFetching,\r\n    getPageSize,\r\n    getTotalUsersCount, getUsers\r\n} from \"../../redux/users-selectors\";\r\n\r\nclass UsersContainer extends React.Component {\r\n\r\n    componentDidMount() {\r\n        const {currentPage, pageSize} = this.props;\r\n        this.props.getUsers(currentPage, pageSize);\r\n    }\r\n\r\n    onPageChanged = (pageNumber) => {\r\n        const {pageSize} = this.props;\r\n        this.props.getUsers(pageNumber, pageSize);\r\n    }\r\n\r\n    render() {\r\n        return <>\r\n            {this.props.isFetching ? <Preloader/> : null}\r\n            <Users totalUsersCount={this.props.totalUsersCount}\r\n                   pageSize={this.props.pageSize}\r\n                   currentPage={this.props.currentPage}\r\n                   onPageChanged={this.onPageChanged}\r\n                   users={this.props.users}\r\n                   follow={this.props.follow}\r\n                   unfollow={this.props.unfollow}\r\n                   followingInProgress={this.props.followingInProgress}\r\n            />\r\n        </>\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        users: getUsers(state),\r\n        pageSize: getPageSize(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state)\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps,\r\n        {follow, unfollow, setCurrentPage, toggleFollowingProgress, getUsers: requestUsers})\r\n)(UsersContainer);","import React from \"react\";\r\nimport s from './Header.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst Header = (props) => {\r\n    return (\r\n        <header className={s.header}>\r\n            <img\r\n                src='https://uploads-ssl.webflow.com/5f8f7f6f45a2ba8926f2e652/5f9acb9b4c0d417a29a8dfbe_Exemplifi_Branding.png'\r\n                alt=''/>\r\n            <div className={s.loginBlock}>\r\n                { props.isAuth\r\n                    ? <div>{props.login} - <button onClick={props.logout}>Log out</button></div>\r\n                    : <NavLink to={'/login'}>Login</NavLink> }\r\n            </div>\r\n        </header>\r\n    )\r\n}\r\n\r\nexport default Header;","import {authAPI} from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nconst SET_USER_DATA = 'social-network/auth/SET_USER_DATA';\r\n\r\nlet initialState = {\r\n    userId: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_USER_DATA:\r\n            return {\r\n                ...state,\r\n                ...action.payload\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const setAuthUserData = (userId, email, login, isAuth) => ({\r\n    type: SET_USER_DATA,\r\n    payload: {userId, email, login, isAuth}\r\n})\r\n\r\nexport const getAuthUserData = () => async (dispatch) => {\r\n    const data = await authAPI.me();\r\n    if (data.resultCode === 0) {\r\n        let {id, email, login} = data.data;\r\n        dispatch(setAuthUserData(id, email, login, true));\r\n    }\r\n}\r\n\r\nexport const login = (email, password, rememberMe) => async (dispatch) => {\r\n    const data = await authAPI.login(email, password, rememberMe);\r\n    if (data.resultCode === 0) {\r\n        dispatch(getAuthUserData());\r\n    } else {\r\n        let message = data.messages.length > 0 ? data.messages[0] : \"Some error\";\r\n        dispatch(stopSubmit('login', {_error: message}));\r\n    }\r\n}\r\n\r\nexport const logout = () => async (dispatch) => {\r\n    const data = await authAPI.logout();\r\n    if (data.resultCode === 0) {\r\n        dispatch(setAuthUserData(null, null, null, false));\r\n    }\r\n}\r\n\r\nexport default authReducer;","import React from \"react\";\r\nimport Header from \"./Header\";\r\nimport {connect} from \"react-redux\";\r\nimport {logout} from \"../../redux/auth-reducer\";\r\n\r\nclass HeaderContainer extends React.Component {\r\n\r\n    render() {\r\n        return <Header {...this.props}/>\r\n    }\r\n\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n    login: state.auth.login\r\n});\r\n\r\nexport default connect(mapStateToProps, {logout})(HeaderContainer);","import React from 'react';\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {createField, Input} from \"../common/FormsControls/FormsControls\";\r\nimport {required} from \"../../utils/validators/validators\";\r\nimport {connect} from \"react-redux\";\r\nimport {login} from \"../../redux/auth-reducer\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport style from './../common/FormsControls/FormControls.module.css';\r\n\r\nconst LoginForm = ({handleSubmit, error}) => {\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n            {createField(Input, \"Email\", \"email\", [required])}\r\n            {createField(Input, \"Password\", \"password\", [required], {type: \"password\"})}\r\n            {createField(Input, null, \"rememberMe\", [], {type: \"checkbox\"}, \"remember me\")}\r\n\r\n            {error && <div className={style.formSummaryError}>\r\n                {error}\r\n            </div>\r\n            }\r\n            <div>\r\n                <button>Login</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst LoginReduxForm = reduxForm({form: 'login'})(LoginForm);\r\n\r\nconst Login = (props) => {\r\n    const onSubmit = (formData) => {\r\n        props.login(formData.email, formData.password, formData.rememberMe);\r\n    }\r\n\r\n    if (props.isAuth) {\r\n        return <Redirect to=\"/profile\"/>\r\n    }\r\n\r\n    return <div>\r\n        <h1>LOGIN</h1>\r\n        <LoginReduxForm onSubmit={onSubmit}/>\r\n    </div>\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth\r\n})\r\n\r\nexport default connect(mapStateToProps, {login})(Login);","import {authAPI} from \"../api/api\";\r\nimport {getAuthUserData} from \"./auth-reducer\";\r\n\r\nconst INITIALIZED_SUCCESS  = 'INITIALIZED_SUCCESS';\r\n\r\nlet initialState = {\r\n    initialized: false\r\n};\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case INITIALIZED_SUCCESS:\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const initializedSuccess = () => ({type: INITIALIZED_SUCCESS});\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n    let promise = dispatch(getAuthUserData());\r\n    Promise.all([promise]).then(() => {\r\n        dispatch(initializedSuccess());\r\n    });\r\n}\r\n\r\nexport default appReducer;","import {applyMiddleware, combineReducers, compose, createStore} from \"redux\";\r\nimport profileReducer from \"./profile-reducer\";\r\nimport dialogsReducer from \"./dialogs-reducer\";\r\nimport usersReducer from \"./users-reducer\";\r\nimport authReducer from \"./auth-reducer\";\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport { reducer as formReducer } from 'redux-form'\r\nimport appReducer from \"./app-reducer\";\r\n\r\nlet reducers = combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogsPage: dialogsReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n    app: appReducer\r\n});\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n\r\nexport default store;","import React from \"react\";\r\nimport Preloader from \"../components/common/Preloader/Preloader\";\r\n\r\nexport const withSuspense = (Component) => {\r\n    return (props) => {\r\n        return <React.Suspense fallback={<Preloader/>}>\r\n            <Component {...props} />\r\n        </React.Suspense>\r\n    }\r\n}","import React from \"react\";\nimport {BrowserRouter, HashRouter, Route, withRouter} from \"react-router-dom\";\nimport './App.css';\nimport Navbar from \"./components/Navbar/Navbar\";\nimport UsersContainer from \"./components/Users/UsersContainer\";\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\nimport LoginPage from \"./components/Login/Login\";\nimport {connect, Provider} from \"react-redux\";\nimport {compose} from \"redux\";\nimport {initializeApp} from \"./redux/app-reducer\";\nimport Preloader from \"./components/common/Preloader/Preloader\";\nimport store from \"./redux/redux-store\";\nimport {withSuspense} from \"./hoc/withSuspense\";\n\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'));\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer'));\n\nclass App extends React.Component {\n\n    componentDidMount() {\n        this.props.initializeApp();\n    }\n\n    render() {\n        if (!this.props.initialized)\n            return <Preloader/>\n\n        return (\n            <div className='app-wrapper'>\n                <HeaderContainer/>\n                <Navbar/>\n                <div className='app-wrapper-content'>\n                    <Route path='/dialogs'\n                           render={withSuspense(DialogsContainer)}/>\n                    <Route path='/profile/:userId?'\n                           render={withSuspense(ProfileContainer)}/>\n                    <Route path='/users' render={() => <UsersContainer/>}/>\n                    <Route path='/login' render={() => <LoginPage/>}/>\n                </div>\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = (state) => ({\n    initialized: state.app.initialized\n})\n\nconst AppContainer = compose(\n    withRouter,\n    connect(mapStateToProps, {initializeApp})\n)(App);\n\nconst SocialNetworkApp = (props) => {\n    return <HashRouter basename={process.env.PUBLIC_URL}>\n        <Provider store={store}>\n            <AppContainer/>\n        </Provider>\n    </HashRouter>\n}\n\nexport default SocialNetworkApp;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport reportWebVitals from './reportWebVitals';\nimport SocialNetworkApp from \"./App\";\n\nReactDOM.render(<SocialNetworkApp/>, document.getElementById('root'));\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","import React from \"react\";\r\nimport styles from './FormControls.module.css'\r\nimport {required} from \"../../../utils/validators/validators\";\r\nimport {Field} from \"redux-form\";\r\n\r\nconst FormControl = ({input, meta: {touched, error}, children}) => {\r\n    const hasError = touched && error;\r\n    return (\r\n        <div className={styles.formControl + \" \" + (hasError ? styles.error : \"\")}>\r\n            <div>\r\n                <div>\r\n                    {children}\r\n                </div>\r\n                {hasError && <span>{error}</span>}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Textarea = (props) => {\r\n    const {input, meta, ...restProps} = props;\r\n    return <FormControl {...props}><textarea {...input} {...restProps} /></FormControl>\r\n}\r\n\r\nexport const Input = (props) => {\r\n    const {input, meta, ...restProps} = props;\r\n    return <FormControl {...props}><input {...input} {...restProps} /></FormControl>\r\n}\r\n\r\nexport const createField = (component, placeholder, name, validators, props = {}, text = \"\") =>\r\n    <div>\r\n        <Field component={component}\r\n               placeholder={placeholder} name={name}\r\n               validate={validators}\r\n               {...props}\r\n        /> {text}\r\n    </div>\r\n","export default __webpack_public_path__ + \"static/media/preloader.087b5cb2.svg\";","import React from 'react';\r\nimport preloader from '../../../assets/images/preloader.svg';\r\n\r\nconst Preloader = (props) => {\r\n    return <div style={ { backgroundColor: 'white' } }>\r\n        <img src={preloader}/>\r\n    </div>\r\n}\r\n\r\nexport default Preloader;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormControls_formControl__y1wRb\",\"error\":\"FormControls_error__2bhsa\",\"formSummaryError\":\"FormControls_formSummaryError__gihVx\"};","export const required = value => {\r\n    if (value)\r\n        return undefined\r\n    else\r\n        return 'Required';\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n    if (value.length > maxLength) return `Max length is ${maxLength} symbols`\r\n    return undefined;\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"Paginator_paginator__MP5nP\",\"pageNumber\":\"Paginator_pageNumber__2F9Mw\",\"selectedPage\":\"Paginator_selectedPage__PTMwb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__eo1KS\",\"loginBlock\":\"Header_loginBlock__1QISy\"};","import {profileAPI, usersAPI} from \"../api/api\";\r\n\r\nconst ADD_POST = 'ADD_POST';\r\nconst DELETE_POST = 'DELETE_POST';\r\nconst SET_USER_PROFILE = 'SET_USER_PROFILE';\r\nconst SET_STATUS = 'SET_STATUS';\r\n\r\nlet initialState = {\r\n    posts: [\r\n        {id: 1, message: \"Hi, how are you?\", likesCount: 0},\r\n        {id: 2, message: \"It's my first post\", likesCount: 23},\r\n        {id: 3, message: \"ABOBA\", likesCount: 54},\r\n        {id: 4, message: \"oh shit here we go again\", likesCount: 1488},\r\n    ],\r\n    profile: null,\r\n    status: \"\"\r\n};\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ADD_POST:\r\n            let newPost = {\r\n                id: 5,\r\n                message: action.newPostText,\r\n                likesCount: 0\r\n            };\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts, newPost]\r\n            };\r\n        case DELETE_POST:\r\n            return {...state, posts: state.posts.filter(p => p.id !== action.postId)};\r\n        case SET_USER_PROFILE:\r\n            return {...state, profile: action.profile};\r\n        case SET_STATUS:\r\n            return {...state, status: action.status};\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const addPostCreator = (newPostText) => ({type: ADD_POST, newPostText})\r\nexport const deletePost = (postId) => ({type: DELETE_POST, postId: postId})\r\nexport const setUserProfile = (profile) => ({type: SET_USER_PROFILE, profile: profile})\r\nexport const setUserStatus = (status) => ({type: SET_STATUS, status: status})\r\n\r\nexport const getUserProfile = (userId) => async (dispatch) => {\r\n    const data = await usersAPI.getProfile(userId);\r\n    dispatch(setUserProfile(data));\r\n}\r\n\r\nexport const getUserStatus = (userId) => async (dispatch) => {\r\n    const data = await profileAPI.getStatus(userId);\r\n    dispatch(setUserStatus(data));\r\n}\r\n\r\nexport const updateUserStatus = (status) => async (dispatch) => {\r\n    const data = await profileAPI.updateStatus(status);\r\n    if (data.resultCode === 0) {\r\n        dispatch(setUserStatus(status));\r\n    }\r\n}\r\n\r\nexport default profileReducer;"],"sourceRoot":""}